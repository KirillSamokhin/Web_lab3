import express from"express";import body_parser from"body-parser";import fs from"fs";let router=express.Router(),data=(router.use(body_parser.json({limit:"50mb"})),router.use(body_parser.urlencoded({limit:"50mb",extended:!0})),router.use(express.json()),fs.readFileSync("./src/json/sn.json","utf-8")),soc_json=JSON.parse(data);router.get("/",(r,e)=>{e.render("index",{title:"Admin mod",data:soc_json})}),router.get("/friends/:id",(r,e)=>{var o,s=r.params.id,d=[];for(o of soc_json)if(o.id==s){for(var t of soc_json)-1!=o.friends.indexOf(t.id)&&d.push(t);e.render("friends",{title:"Admin mod",data:d,person:o})}}),router.get("/news/:id",(r,e)=>{var o,s=r.params.id,d=[];for(o of soc_json)if(o.id==s){for(var t of soc_json)-1!=o.friends.indexOf(t.id)&&d.push(t);e.render("news",{title:"Admin mod",data:d,person:o})}}),router.get("/setting/:id",(r,e)=>{var o,s=r.params.id;for(o of soc_json)o.id==s&&e.render("setting",{title:"Admin mod",data:o})}),router.put("/set/:id",(r,e)=>{var o,s=r.params.id;for(o of soc_json)o.id==s&&(o.name=r.body.name,o.date=r.body.date,o.email=r.body.email,o.role=r.body.role,o.status=r.body.status,e.status(201).json({ok:!0}))});export{router};